# Лабораторна робота №20: Принцип єдиної відповідальності (SRP)

## Тема
**SRP: декомпозиція OrderProcessor.**

## Мета
Застосувати принцип єдиної відповідальності (Single Responsibility Principle — перший принцип SOLID) для декомпозиції складного класу `OrderProcessor` на менші, більш сфокусовані компоненти.

---

## Опис завдання
У межах роботи було проведено рефакторинг коду, який порушував принцип SRP. Початковий клас `OrderProcessor` одночасно займався:
1. Валідацією замовлення.
2. Збереженням даних у базу даних.
3. Відправкою Email-сповіщень.
4. Керуванням логікою процесу.

Після рефакторингу кожну з цих функцій було винесено в окремий сервіс, що дозволяє змінювати один аспект системи (наприклад, перейти з Email на SMS), не зачіпаючи інші частини коду.

---

## Структура проєкту

Проєкт реалізований за допомогою наступних компонентів:

* **`IOrderValidator`** — інтерфейс для перевірки коректності даних замовлення.
* **`IOrderRepository`** — інтерфейс для доступу до даних (збереження замовлень).
* **`IEmailService`** — інтерфейс для розсилки повідомлень.
* **`OrderService`** — центральний компонент, який координує процес, використовуючи Dependency Injection (впровадження залежностей).



---

## Демонстрація роботи

Програма моделює два сценарії:
1. **Валідне замовлення:** Сума > 0. Система успішно проходить валідацію, зберігає замовлення та відправляє сповіщення.
2. **Невалідне замовлення:** Сума <= 0. Система перериває процес, змінює статус замовлення на `Cancelled` та виводить повідомлення про помилку.

### Приклад виводу в консоль:
```text
Обробка замовлення #1...
[БД] Замовлення #1 збережено.
[Email] Підтвердження надіслано клієнту Олександр.
Успішно: Статус замовлення #1 змінено на Processed.

Обробка замовлення #2...
[Помилка] Замовлення #2 невалідну (сума: -100,00).